<!doctype html>
<html lang="en">
<!--%%HEAD-->

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" debug_loader="1">
    <link rel="stylesheet" href="../../lib/KFCWebBuilder/Resources/css/bootstrap.min.css" debug_loader="1">
    <link rel="stylesheet" href="../css/styles.css" debug_loader="1">
    <link rel="stylesheet" href="../../lib/KFCWebBuilder/Resources/css/open-iconic-bootstrap.css" debug_loader="1">
    <title>KFC FW</title>
</head>
<!--HEAD%%-->

<body>
    <!--%%NAV-->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="index.html">KFC FW</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
        </div>
    </nav>
    <!--NAV%%-->
    <div class="container">
        <form method="POST" action="%SELF_URI%">
            %FORM_HTML%
            <div class="form-help-block">
                <div data-target="#ast">When running on batteries, the device will go back to deep sleep after all events have been processed and the time is up. To configure the device, connect it to USB and turn it
                    on. It will take up to 30 seconds until the webUI is available</div>
                <div data-target="#mwt">If any tasks are peformed or a client is connected to the Web UI or Serial Console, the Sleep Timeout is ignored. This is the maximum time the device runs on batteries, before
                    going to deep sleep</div>
                <div data-target="#dst">The device wakes up, renews IP address and delivers statistics about the battery. Due to hardware/software restrictions, the time is not accurate ~&plusmn;20%<br>
                    The device is running approximately 0.8 seconds per day to perform the wake up time check. Waking up and transmitting the battery statistics takes between 1 and 3 seconds.
                    To preserve battery life, set the value to 0 to disable auto wake up.</div>
                <div data-target="#spt">Pressing a button less than Short Press Time results in a <i>press</i> or <i>(multi-)click</i> event. Otherwise <i>long-press</i> or <i>hold-release</i> is fired</div>
                <div data-target="#lpt">If a Button is held longer than Long Press Time, the <i>hold</i> event is fired</div>
                <div data-target="#rt"><i>hold</i> events are repeated in intervals followed by <i>hold-release</i></div>
                <div data-target="#na_2">Enable <i>press</i> if multiple clicks are not used. The buttons will respond faster</div>
                <div data-target="#na_4">This event replaces <i>multi-click</i> with repeat count 1</div>
                <div data-target="#na_5">This event replaces <i>multi-click</i> with repeat count 2</div>
                <div data-target="#na_6">If <i>multi-click</i> events are enabled, the <i>press</i> event is omitted<br>Variables: {repeat}</div>
                <div data-target="#na_7">Variables: {repeat}</div>
                <div data-target="#na_8"><i>hold-release</i> will be fired without prior <i>hold</i> events if <i>long-press</i> is not enabled</div>

                <div data-target="#mqtte">Globally enable/disable UDP device triggers</div>
                <div data-target="#mqtte">Globally enable/disable MQTT device triggers</div>

                <div data-target="#sm1">Button combination to enter system maintenance mode.<br>
                    Hold Button 1 and 2 for about one second until the light starts to flicker. If kept down for more than 5 seconds, the device is rebooting.
                    If released, the LED will start blinking slowly to indicate that the menu is active. The timeout for the menu is 30 seconds.
                    <ul>
                        <li>Button #1 disables Auto Sleep</li>
                        <li>Button #2 enables Auto Sleep</li>
                        <li>Button #3 sends the device to Deep Sleep</li>
                        <li>Button #4 leaves the menu</li>
                    </ul>
                </div>
            </div>
        </form>
        <!--%%FOOT-->
        <div class="row">
            <div class="col footer">&nbsp;</div>
        </div>
        <!--FOOT%%-->
    </div>
    <!--%%JAVASCRIPT-->
	<script debug_loader="1" type="text/javascript" src="../../lib/KFCWebBuilder/Resources/js/jquery-3.3.1.min.js"></script>
	<script debug_loader="1" type="text/javascript" src="../../lib/KFCWebBuilder/Resources/js/popper.min.js"></script>
	<script debug_loader="1" type="text/javascript" src="../../lib/KFCWebBuilder/Resources/js/popper.min.js"></script>
	<script debug_loader="1" type="text/javascript" src="../../lib/KFCWebBuilder/Resources/js/bootstrap.min.js"></script>
	<script debug_loader="1" type="text/javascript" src="../../lib/KFCWebBuilder/Resources/js/js.cookie.min.js"></script>
	<script debug_loader="1" type="text/javascript" src="../js/main.min.js"></script>
	<script debug_loader="1" type="text/javascript" src="../js/debug.js"></script>
    <!--JAVASCRIPT%%-->
    <script>

        $(function() {
            if ($('#remotectrl_events').length) {
                $('#_en_2').on('click', function() {
                    var value = parseInt($('#en_2').val());
                    if (value && parseInt($('#en_4').val())) {
                        $('#_en_4').trigger('click');
                    }
                    if (value && parseInt($('#en_5').val())) {
                        $('#_en_5').trigger('click');
                    }
                    if (value && parseInt($('#en_6').val())) {
                        $('#_en_6').trigger('click');
                    }
                });

                $('#_en_4').on('click', function() {
                    var value = parseInt($('#en_4').val());
                    if (value && parseInt($('#en_2').val())) {
                        $('#_en_2').trigger('click');
                    }
                });
                $('#_en_5').on('click', function() {
                    var value = parseInt($('#en_5').val());
                    if (value && parseInt($('#en_2').val())) {
                        $('#_en_2').trigger('click');
                    }
                });
                $('#_en_6').on('click', function() {
                    var value = parseInt($('#en_6').val());
                    if (value && parseInt($('#en_2').val())) {
                        $('#_en_2').trigger('click');
                    }
                });
            }
        });
    </script>

    %FORM_VALIDATOR%

</body>

</html>
