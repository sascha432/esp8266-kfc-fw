; -------------------------------------------------------------------------
[env_esp8266]

src_filter = ${common.src_filter}

lib_ignore =
    atmelavrStreamString
    AsyncTCP
    SD
    Adafruit TouchScreen
    Adafruit BusIO
    Adafruit ADXL343
    Adafruit ILI9341
    Adafruit STMPE610
    Adafruit seesaw Library
    Adafruit TouchScreen
    TinyWireM

lib_deps =
    ESP8266WiFi
    asyncHTTPrequest
    ; https://github.com/sascha432/EspSaveCrash
    ; https://github.com/sascha432/AsyncPing
    ${common.lib_deps}

build_flags =
    ${common.build_flags}
    -D ESP8266=1
    ; -Wl,--wrap=settimeofday ; required for for 2.6.3


# increase SPIFFS to a maximum if writing frequently, otherwise the flash might wear out early while the unused part is fully intact

# allows OTA with up to ~1028KB
board_build.ldscript = ./ld/eagle.flash.4m2m.ld
# allows OTA with up to ~2052KB
#board_build.ldscript = ./ld/eagle.flash.4m1m.ld
